# API 接口文档

## API 接口说明

-   接口基准地址：`http://localhost:3000`
-   使用 HTTP Status Code 标识状态
-   数据返回格式统一使用 JSON

### 支持的请求方法

-   GET（SELECT）：从服务器取出资源（一项或多项）。
-   POST（CREATE）：在服务器新建一个资源。
-   PUT（UPDATE）：在服务器更新资源（客户端提供改变后的完整资源）。
-   DELETE（DELETE）：从服务器删除资源。

### 通用返回状态说明

| *状态码* | *含义*                  | *说明*                               |
| ----- | --------------------- | ---------------------------------- |
| 200   | OK                    | 请求成功                               |
| 201   | CREATED               | 创建成功                               |
| 204   | DELETED               | 删除成功                               |
| 400   | BAD REQUEST           | 请求的地址不存在或者包含不支持的参数                 |
| 401   | UNAUTHORIZED          | 未授权                                |
| 403   | FORBIDDEN             | 被禁止访问                              |
| 404   | NOT FOUND             | 请求的资源不存在                           |
| 422   | Unprocesable entity   | [POST/PUT/PATCH] 当创建一个对象时，发生一个验证错误 |
| 500   | INTERNAL SERVER ERROR | 内部错误                               |
|       |                       |                                    |

---

## 用户管理

### 用户数据列表

* 请求路径：users
* 请求方法：get
* 响应参数

| 参数名  | 参数说明 | 备注   |
| ---- | ---- | ---- |
| id   | id   |      |
| name | 用户名  |      |
| age  | 年龄   |      |

* 响应状态码
| 参数名    | 参数说明 | 备注      |
| ------ | ---- | ------- |
| status | 响应码  | 200: 成功 |


* 响应数据

```javascript
[
  {
    "name": "鸣人",
    "age": "12",
    "id": 1
  },
  {
    "id": 2,
    "name": "佐助",
    "age": 11
  },
  {
    "id": 3,
    "name": "自来也",
    "age": 52
  },
  {
    "id": 4,
    "name": "卡卡西",
    "age": 28
  }
]
```

### 添加用户

* 请求路径：users
* 请求方法：post
* 请求参数

| 参数名  | 参数说明 | 备注   |
| ---- | ---- | ---- |
| name | 用户名称 | 不能为空 |
| age  | 用户年龄 | 不能为空 |


* 响应参数

| 参数名  | 参数说明  | 备注   |
| ---- | ----- | ---- |
| id   | 用户 ID |      |
| name | 用户名   |      |
| age  | 年龄    |      |

* 响应状态码
| 参数名    | 参数说明 | 备注      |
| ------ | ---- | ------- |
| status | 响应码  | 201: 成功 |

* 响应数据

```javascript
{
  "name": "xiaoming",
  "age": "20",
  "id": 5
}
```


### 编辑用户

* 请求路径：users/:id
* 请求方法：put
* 请求参数

| 参数名  | 参数说明  | 备注                 |
| ---- | ----- | ------------------ |
| id   | 用户 id | 不能为空 `参数是url参数:id` |

* 响应参数

| 参数名  | 参数说明  | 备注   |
| ---- | ----- | ---- |
| id   | 用户 ID |      |
| name | 用户名   |      |
| age  | 年龄    |      |

* 响应数据

```javascript
// 200表示成功 404表示失败
{
  "name": "xiaoming",
  "age": "20",
  "id": 5
}
```

### 删除用户

* 请求路径：users/:id
* 请求方法：delete
* 请求参数

| 参数名  | 参数说明  | 备注                |
| ---- | ----- | ----------------- |
| id   | 用户 id | 不能为空`参数是url参数:id` |

* 响应参数

* 响应数据

```javascript
// 200 表示成功 404表示失败
{
}
```